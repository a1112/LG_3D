### This file is automatically generated by Qt Design Studio.
### Do not change

qt_add_library(content STATIC)

# 自动递归扫描 qml 目录下的所有 QML 文件
file(GLOB_RECURSE QML_FILES_ABS
    "${CMAKE_CURRENT_SOURCE_DIR}/*.qml"
)

# 创建一个变量用于存储相对路径
set(QML_FILES)

# 转换绝对路径为相对路径
foreach(QML_FILE_ABS ${QML_FILES_ABS})
    file(RELATIVE_PATH QML_FILE_REL ${CMAKE_CURRENT_SOURCE_DIR} ${QML_FILE_ABS})
    list(APPEND QML_FILES ${QML_FILE_REL})
endforeach()

# # 打印所有找到的相对路径 QML 文件
message(STATUS "Found QML files:")
foreach(QML_FILE ${QML_FILES})
    message(STATUS "  ${QML_FILE}")
endforeach()

file(GLOB_RECURSE RESOURCES_FILES_ABS
    "${CMAKE_CURRENT_SOURCE_DIR}/*.png"
)
set(RESOURCES_FILES)
foreach(RESOURCES_FILE ${RESOURCES_FILES_ABS})
    file(RELATIVE_PATH RESOURCES_FILE_REL ${CMAKE_CURRENT_SOURCE_DIR} ${RESOURCES_FILE})
    list(APPEND RESOURCES_FILES ${RESOURCES_FILE_REL})
endforeach()


qt6_add_qml_module(content
    URI "content"
    VERSION 1.0
    RESOURCE_PREFIX "/qt/qml"
    RESOURCES
        fonts/fonts.txt
        fonts/DS-DIGIT.TTF
    QML_FILES ${QML_FILES}
    RESOURCES ${RESOURCES_FILES}
    QML_FILES
    )
